<!-- TOP MENU -->
<div class="row">
  <div class="col-auto" style="color: #FFA101; cursor: pointer;" (click)="groupList()">
    <p>กลุ่มสินค้า</p>
  </div>
  <div class="col-auto pl-1" style="cursor: pointer;" (click)="createGroup()">
    <p>เพิ่มกลุ่มสินค้า</p>
  </div>
</div>
<!-- END TOP MENU -->

<!-- CONTENT -->
<div class="page-border-3 bg-white mt-2">
  <div class="row">
    <div class="col-sm-12 col-md-6">
      <a>{{ id }}</a>
      <button type="button" class="btn text-placeholder text-center ml-2"
        style="border: none; border-radius: 1.5rem; color: #D9534F; border: 1px solid #D9534F; background-color: #FFF;"
        data-toggle="modal" data-target="#ModalPopupDeleteGroup">
        ลบกลุ่มนี้
      </button>
    </div>
    <div class="col-sm-12 col-md-6 product-key-input-mt">
      <div class="row row-top-menu">
        <div class="col col-top-menu">
          <div class="input-style">
            <input #searchInput type="text" maxlength="30" class="form-control border-0 p-0 text-placeholder input_"
              placeholder="เพิ่มด้วยรหัสสินค้า">
          </div>
        </div>
        <div class="col-auto col-top-menu">
          <button (click)="searchBtn(searchInput.value)" type="button" class="btn text-placeholder text-center"
            style="border: none; border-radius: 1.5rem; color: #D9534F; border: 1px solid #D9534F; background-color: #FFF;"
            data-toggle="modal" data-target="#ModalPopupAddProduct">
            เพิ่มสินค้าลงกลุ่มนี้
          </button>
        </div>
      </div>
    </div>
  </div>

<!-- NO PRODUCT IN GROUP -->
<div *ngIf="productList.length == 0" class="text-center" style="padding-top: 48px; padding-bottom: 48px;">
  <p class="mb-0" style="font-size: .8rem;">เพิ่มสินค้าในกลุ่มนี้</p>
</div>

  <!-- PRODUCT LIST -->
  <div class="card-padding-sm">
    <!-- PRODUCT LIST -->
    <div class="row m-row-card-product">
      <div *ngFor="let data of productList"  class="col-6 col-sm-3 col-md-6 col-lg-3 col-xl-3 mt-2 p-col-card-product">
        <div class="card-border-3 bg-white">
          <div class="posi-card">
            <img src="{{ data.value.imgProduct[0].imgUrl }}" class="product-img-card">
          </div>
          <div class="card-body-padding">
            <!-- PRODUCT NAME & DES -->
            <h5 class="card-title mb-0">{{ data.value.name | slice:0:18 }}</h5>
            <!-- PRODUCT KEY -->
            <p class="mt-2 mb-0 text-placeholder">{{ data.key }}</p>
            <p class="mb-0 text-placeholder">รหัสสินค้า</p>
            <button (click)="deleteProduct(data.key)" type="button" class="btn text-placeholder text-center mt-2"
              style="border: none; border-radius: 1.5rem; color: #D9534F; border: 1px solid #D9534F; background-color: #FFF; width: 100%;"
              data-toggle="modal" data-target="#ModalPopupDeleteProduct">
              ลบสินค้านี้จากกลุ่มนี้
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- END PRODUCT LIST -->
  </div>
  <!-- END PRODUCT LIST -->
</div>
<!-- CONTENT -->

<!-- MODAL POPUP DELETE GROUP -->
<div class="modal fade" id="ModalPopupDeleteGroup" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content pt-5 pr-5 pb-5 pl-5" style="border-radius: 1rem;">
      <img class="rounded mx-auto d-block" style="width: 120px;" src="../../assets/img/loadingpage-final.png">
      <h5 class="font-weight-bold text-center mt-5">แจ้งเตือน</h5>
      <p class="text-center">ต้องการลบกลุ่มสินค้า{{ id }} ?</p>
      <div class="mt-4">
        <div class="form-group col-12 col-sm-9 col-lg-7 text-center" style="margin: 0 auto;">
          <button type="button" class="btn btn-primary"
            style="border: none; border-radius: 1.5rem; width: 100%; background-color: #FE5721;"
            data-dismiss="modal" (click)="deleteGroup()">ตกลง</button>
        </div>
        <div class="mt-2">
          <a data-dismiss="modal" aria-label="Close" style="cursor: pointer;">
            <p class="text-center">ยกเลิก</p>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ENG MODAL POPUP DELETE GROUP -->

<!-- MODAL POPUP ADD PRODUCT IN GROUP -->
<div class="modal fade" id="ModalPopupAddProduct" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content pt-5 pr-5 pb-5 pl-5" style="border-radius: 1rem;">
      <img class="rounded mx-auto d-block" style="width: 120px;" src="../../assets/img/loadingpage-final.png">
      <h5 class="font-weight-bold text-center mt-5">แจ้งเตือน</h5>
      <p class="text-center">{{ productKeyAdd }}</p>
      <div class="mt-4">
        <div class="form-group col-12 col-sm-9 col-lg-7 text-center" style="margin: 0 auto;">
          <button type="button" class="btn btn-primary"
            style="border: none; border-radius: 1.5rem; width: 100%; background-color: #FE5721;"
            data-dismiss="modal" (click)="addProduct(searchInput.value)">ตกลง</button>
        </div>
        <div class="mt-2">
          <a data-dismiss="modal" aria-label="Close" style="cursor: pointer;">
            <p class="text-center">ยกเลิก</p>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ENG MODAL POPUP ADD PRODUCT IN GROUP -->

<!-- MODAL POPUP DELETE PRODUCT OF GROUP -->
<div class="modal fade" id="ModalPopupDeleteProduct" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content pt-5 pr-5 pb-5 pl-5" style="border-radius: 1rem;">
      <img class="rounded mx-auto d-block" style="width: 120px;" src="../../assets/img/loadingpage-final.png">
      <h5 class="font-weight-bold text-center mt-5">แจ้งเตือน</h5>
      <p class="text-center">ต้องการลบสินค้ารหัส {{ productKeyDelete }} จากกลุ่มสินค้า{{ id }} ?</p>
      <div class="mt-4">
        <div class="form-group col-12 col-sm-9 col-lg-7 text-center" style="margin: 0 auto;">
          <button type="button" class="btn btn-primary"
            style="border: none; border-radius: 1.5rem; width: 100%; background-color: #FE5721;"
            data-dismiss="modal" (click)="updateDeleteProduct()">ตกลง</button>
        </div>
        <div class="mt-2">
          <a data-dismiss="modal" aria-label="Close" style="cursor: pointer;">
            <p class="text-center">ยกเลิก</p>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ENG MODAL POPUP DELETE PRODUCT OF GROUP -->